{% extends 'base.html' %}

{% block usersettings %}

<style>

html, body {
    background-color: darkgrey;
}

a:hover {
    text-decoration: none;
    color:grey;
}

a {
    color:white;
}

.settings-sidebar {
    width:10em;
    height:500%;
    margin-left:2%;
    margin-top:8%;
    background-color:black;
    color:white;
    text-align:center;
    padding:1em;
}

.general-settings-content {
    width:5em;
    height:5em;
}

.settings-dropdown {
    display:none;
}

#settings-dropdown-pressed:hover {
    color:grey;
}

.settings-display {
    width:75%;
    height:90%;
    background-color:white;
    float:right;
    margin-right:5%;
    margin-top:-5%;
}


.box {
    width:100%;
    height:70%;
    background-color:black;
}

#enable-disable-flagging {
    margin-left:30%;
    margin-top:2%;
}

</style>

<div class="settings-ui">
    
    <div class="settings-sidebar">
        <div class="settings-sidebar-content"> <a id="settings-dropdown-pressed"> <h5> Settings </h5> </a>
            <div class="settings-dropdown">
                <div class="general-settings"> <a href="#"> <center> General </center> </a> </div>
                <div class="privacy-settings"> <a href="#"> <center> Privacy </center> </a> </div>
                <div class="safety-settings"> <a href="#"> <center> Safety </center> </a> </div>
                <div class="display-design-settings"> <a href="#"> <center> Display and Design </center> </a> </div>
                <div class="policy-settings"> <a href="#"> <center> Privacy Policy </center> </a> </div>
                <div class="help-settings"> <a href="#"> <center> Help </center> </a> </div> 
            </div>
        </div> 
    </div>

    <div class="settings-display">
        <div class="settings-display-tab" id="general"> <center> <b> General </b> </center> 
            <div class="settings-options"> </div>
        </div>
        <hr>
        <div class="settings-display-tab" id="general"> <center> Privacy </center> </div>
        <hr>
        <div class="settings-display-tab" id="safety"> <center> Safety </center> </div>
        <hr>
        <div class="settings-display-tab" id="display-design"> <center> Display and Design </center> 
            <div class="settings-display-tab" id="display-settings">
                <div class="features-settings">
                    <div class="flagging-system">
                        <button class="flagging-display" id="enable-disable-flagging"> Content Flagging </button>
                        <label for="flag-colour"> Flag Colour </label>
                        <input type="text">
                    </div>
                </div> 
            </div>
        </div>
        <hr>
        <div class="settings-display-tab" id="general"> <center> Privacy Policy </center> </div>
        <hr>
        <div class="settings-display-tab" id="general"> <center> Help </center> </div>

    </div>

</div>

<div class="general-settings-content">

</div>

<script>

    // dropdowns
    settingsDropdown = document.getElementById('settings-dropdown-pressed')
    

    // content
    sidebarContent = document.getElementsByClassName('settings-dropdown')    

    // actual settings
    enableDisableFlagging = document.getElementById('enable-disable-flagging')

    // states
    settingsOpen = false

    // localstorage set

    if (localStorage.getItem('showFlags') == null) {
        localStorage.setItem('showFlags', 1);
    } else if (localStorage.getItem('showFlags') == 0) {
        enableDisableFlagging.style.backgroundColor = "red";
    } else {
        enableDisableFlagging.style.backgroundColor = "green";
    }
    
    enableDisableFlagging.addEventListener("click", function() {
        if (localStorage.getItem('showFlags') == 0) {
            console.log('true')
            enableDisableFlagging.style.backgroundColor = "green";
            localStorage.setItem('showFlags', 1)
        } else if (localStorage.getItem('showFlags') == 1) {
            console.log('false')
            enableDisableFlagging.style.backgroundColor = "red";
            localStorage.setItem('showFlags', 0)
        }
    })


    settingsDropdown.addEventListener('click', function() {
        if (settingsOpen == false) {
            for(i=0;i!=sidebarContent.length;i++) {
                sidebarContent[i].style.display = "block";
            settingsOpen = true
        }}
        else if (settingsOpen = true) {
            for(i=0;i!=sidebarContent.length;i++) {
                sidebarContent[i].style.display = "none";
            settingsOpen=false
        }}
    })

</script>

{% endblock %}

<!-- Good reference photo
https://community.canvaslms.com/t5/Canvas-Instructional-Designer/Anchor-a-div/td-p/173606?lightbox-message-images-173606=28448i7C48E7DF4AF22136
-->