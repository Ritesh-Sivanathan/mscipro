<!DOCTYPE html>
<html>
<head>
    <title>Math Problem Generator</title>
    <script src="grade1practice.js"></script>
</head>
<body>
    <center>
        <h1>Math Problem Generator</h1>
        <button id="generateBtn">Generate Problem</button>
        <p id="problem"></p>
        <input type="text" id="userAnswer" placeholder="Your Answer">
        <button id="checkBtn">Check Answer</button>
        <p id="result"></p>

        <h3 id="difficulty"> None (to update, generate a problem) </h3>
        <h3 id="score">Score: 0</h2>

        <div class="dropdown">
            <select id="digit-select"> 
                <option value="single-digit"> Single Digit </option>
                <option value="double-digit"> Double Digit </option>
                <option value="triple-digit"> Triple Digit </option>
                <option value="quadruple-digit"> Quadruple Digit </option>
            </select>
            <button onclick="getSelectedOption()"> > Choose Option < </button>
        </div>
    </center>
</body>
</html>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const generateBtn = document.getElementById("generateBtn");
        const problemText = document.getElementById("problem");
        const userAnswer = document.getElementById("userAnswer");
        const checkBtn = document.getElementById("checkBtn");
        const resultText = document.getElementById("result");
        const digitSelect = document.getElementById("digit-select");
        const scoreElement = document.getElementById("score");
        let score = 0;

        function getSelectedOption() {
            const selectedValue = digitSelect.value;
            let maxRange;
            
            if (selectedValue === "single-digit") {
                maxRange = 10;
                updateDifficulty("Single Digit");
            } else if (selectedValue === "double-digit") {
                maxRange = 99;
                updateDifficulty("Double Digit");
            } else if (selectedValue === "triple-digit") {
                maxRange = 999;
                updateDifficulty("Triple Digit");
            } else if (selectedValue === "quadruple-digit") {
                maxRange = 9999;
                updateDifficulty("Quadruple Digit");
            }

            generateProblem(maxRange);
        }

        function updateDifficulty(difficulty) {
            const headerElement = document.getElementById("difficulty");
            headerElement.textContent = `Selected Difficulty: ${difficulty}`;
        }

        function generateProblem(maxRange) {
            const num1 = Math.floor(Math.random() * (maxRange + 1));
            const num2 = Math.floor(Math.random() * (maxRange + 1));
            const problem = `${num1} + ${num2} = ?`;
            problemText.textContent = problem;
        }

        generateBtn.addEventListener("click", getSelectedOption);

        checkBtn.addEventListener("click", function () {
            const userProvidedAnswer = parseInt(userAnswer.value, 10);
            const problemParts = problemText.textContent.split(" ");
            const correctAnswer = parseInt(problemParts[0]) + parseInt(problemParts[2]);

            if (userProvidedAnswer === correctAnswer) {
                resultText.textContent = "Correct!";
                score++;
            } else {
                resultText.textContent = "Incorrect. Try again.";
            }

            // Update the score
            scoreElement.textContent = `Score: ${score}`;
        });
    });
</script>

<style>
    @media only screen and (max-width: 600px) {
        h1 {
            display:none;
        }

        h3 {
            font-size:small;
        }
    }

    html {
        background-color: grey;
        color: black;
        font-size: 250%;
    }

    #difficulty {
        margin-top: -1%;
    }
</style>